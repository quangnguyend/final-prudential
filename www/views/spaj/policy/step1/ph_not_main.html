<ion-view cache-view="false" id="spaj-start">
  <ion-nav-title>
    <custom-header title='Sebelum Anda melanjutkan' step='1'></custom-header>
  </ion-nav-title>
  <ion-content>
    <step-process></step-process>
    <div id="SPAJ">
      <div class='row tab-menu'>
        <div class='col blur-text' ng-disabled><span class="d-table"><span class="d-table-cell">Pemegang Polis</span></span>
        </div>
        <div class='col' ng-click='vm.switchTab(vm.main_insured_tab)' ng-class='vm.currentTab===vm.main_insured_tab?"active":""'><span class="d-table"><span class="d-table-cell">Tertanggung Utama</span></span>
        </div>
        <div class='col' ng-repeat='tab in vm.additionalList track by $index' ng-click='vm.switchTab(tab.id)' ng-class='vm.currentTab===tab.id?"active":""'><span class="d-table"><span class="d-table-cell">{{tab.name}}</span></span>
        </div>
        <div ng-if='vm.additionalList.length<2' class='col blur-text' ng-click='vm.addAdditionalTab()'><span class="d-table"><span class="d-table-cell">+ Tertanggung Tambahan</span></span>
        </div>
      </div>
    </div>
    </div>
    <div ng-show='vm.currentLayout === vm.main_layout'>
      <insured-home insured-data='{{vm.main_insured_tab}}' ng-show='vm.currentTab===vm.main_insured_tab'></insured-home>
      <insured-home ng-repeat='tab in vm.additionalList track by $index' insured-data='{{tab.id}}' ng-show='vm.currentTab===tab.id' ng-class='vm.currentTab===tab.id?"active":""'></insured-home>
    </div>
    <!--note-->
     <div id="" class="has-bottom-bar active-insurance-page">
      <form>
        <div class="list">
          <div class="item">
            <h1 class="text-center description">Apakah Calon Tertanggung juga sebagai Tertanggung pada Polis lain di Prudential dan/atau Perusahaan Asuransi Jiwa lain?</h1>
            <div class="clearfix">
              <div class="float-left col-5">&nbsp;</div>
              <div class="float-left col-95">
                <div class="row">
                  <div class="button-bar">
                    <a class="button col col-50" grouped-radio="true" ng-model="vm.policy.apaka">Ya</a>
                    <a class="button col col-50" grouped-radio="false" ng-model="vm.policy.apaka">Tidak</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="item">
            <div class="m-gap-30" ng-show="vm.policy.apaka">
              <ul>
                <li class="clearfix m-gap-30" ng-repeat="n in vm.policy.insurancePolicies">
                  <div class="float-left col-5 col-padding"><span class="row-number">{{$index + 1}}</span></div>
                  <div class="float-left col-95">
                    <div class="row row-no-padding">
                      <div class="col col-25 col-padding">
                        <label>Tipe Asuransi</label>
                        <select class=" form-input" ng-model="item.type_of_insurance">
                          <option value="">Please Select</option>
                          <option ng-repeat="type in vm.policy.typeOfInsurance" value="{{type.value}}">{{type.name}}</option>
                        </select>
                      </div>
                      <div class="col col-25 col-padding">
                        <label>Perusahaan</label>
                        <input type="text" class="form-input" placeholder="Enter" ng-model="item.insurance_company">
                      </div>
                      <div class="col col-30 col-padding">
                        <label>Uang Pertanggungan</label>
                        <div class="row row-no-padding">
                          <div class="col col-60">
                            <input type="text" class="form-input" placeholder="Enter" ng-model="item.sum_assured">
                          </div>
                          <div class="col  col-40">
                            <select class=" form-input" ng-model="item.currency">
                              <option value="">IDR</option>
                              <option ng-repeat="currency in vm.policy.currencyUnits" value="{{currency.value}}" selected>{{currency.name}}</option>
                            </select>
                          </div>
                        </div>

                      </div>
                      <div class="col col-20 col-padding">
                        <label>Substandard</label>
                        <div class="row row-no-padding">
                            <select class=" form-input" ng-model="item.type_of_insurance">
                              <option value="">Please Select</option>
                              <option ng-repeat="type in vm.policy.typeOfInsurance" value="{{type.value}}">{{type.name}}</option>
                            </select>
                        </div>

                      </div>
                    </div>
                    
                  </div>
                </li>
              </ul>
              <div class="clearfix"></div>
              <div class="m-gap-30"><button class="button button-stable button-block float-right col-95" ng-click="vm.policy.addActivePolicy()" >  <i class="ion-ios-plus-empty"></i> <span class="txt-add-policy"> Tambah Polis</span></button></div>
              <div class="clearfix"></div>
            </div>
          </div>
        </div>
      </form>
    </div>
    <!-- note-->
  </ion-content>
  <ion-footer-bar class="bar bar-footer bar-assertive">
    <div class="btn" ng-click="vm.nextClickHandle()">Lanjutkan</div><button class="button button-clear"><i class="icon ion-ios-arrow-forward"></i></button>
  </ion-footer-bar>
</ion-view>